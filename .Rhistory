theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.key = element_blank()
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### pct_estimate vs vote_share All
model_dataset |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two")) +
geom_line(aes(y=50, color = "two")) +
scale_color_manual(values = c("#6c008c", "#ffbb00")) +
labs(title = "Vote Estimate from Polls Compared to Actual Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85")
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### pct_estimate vs vote_share All
model_dataset |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two")) +
geom_line(aes(y=50, color = "two")) +
scale_color_manual(values = c("#6c008c", "#ffbb00")) +
labs(title = "Vote Estimate from Polls Compared to Actual Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
View(polling_data)
View(model_dataset)
View(national_data)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### pct_estimate vs vote_share National
national_data |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "1968-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_post_2016 |> national_data |> filter(year >= 2016)
national_data_post_2016 <- national_data |> filter(year >= 2016)
View(national_data_post_2016)
national_data_2016 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_post_2016 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
xlim(c(20, 70)) +
ylim(c(35, 65)) +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_post_2016 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_post_2016 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results 2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_post_2016 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2016-2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
national_data_2024 |>
ggplot(aes(x = pct_estimate, y = vote_share)) +
geom_point() +
geom_smooth(aes(color = "one"), method = lm, formula = y ~ x) +
geom_line(aes(x=50, color = "two"), size = 1) +
geom_line(aes(y=50, color = "two"), size = 1) +
scale_color_manual(values = c("#6c008c", "#ba8900")) +
labs(title = "National Vote Estimate from Polls Compared to Actual National Vote Results",
subtitle = "2024") +
xlab("Estimated Percent of Vote") +
ylab("Actual Percent of Vote") +
theme(
panel.background = element_blank(),
panel.grid.major = element_line(color = "grey70"),
panel.grid.minor = element_line(color = "grey85"),
legend.position = "none"
)
### This is the only way I know how to do this right now
### Write csv
write.csv(model_dataset, paste0(path, model_dataset.csv))
### This is the only way I know how to do this right now
### Write csv
write.csv(model_dataset, paste0(path, "model_dataset.csv"))
library(arrow)
library(dplyr)
### read csv as parquet
model_parquet <- open_dataset(
sources = "model_dataset.csv",
col_types = schema(facility_id = string()),
format = "csv"
)
glimpse(model_parquet)
model_parquet <- model_parquet |> group_by(year)
model_parquet <- model_parquet |> group_by(year)
model_parquet <- model_parquet |> group_by("year")
?group_by
model_parquet <- model_parquet |> group_by("year")
model_parquet <- model_parquet |> group_by(get(year))
model_parquet <- model_parquet |> group_by(model_parquet$year)
View(national_data)
shiny::runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
?sliderInput
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
?renderPlot
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
runApp('~/GitHub/problem-set-2-ScavengerDLC/final-project-app')
